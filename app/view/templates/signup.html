<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - ClarityWave</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;700&display=swap" rel="stylesheet">
    <script
    src="https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.mjs"
    type="module"
    ></script>
    <style>
        footer {
        position: relative; 
        }

    </style>
</head>
<body>
    {% include 'header.html' %}
    
    <section class="signup-section">
        <dotlottie-player
  src="https://lottie.host/f97f943a-2916-4472-90a7-54785c8b1a19/AoCL8k8u6Y.lottie"
  background="transparent"
  speed="1"
  style="width: 600px; height: 600px; margin-top: 10px;"
  loop
  autoplay
></dotlottie-player>
    
        <div class="signup-container" style=" margin-left: 20px;">
            <h2>Become Part of Our Wellness Family!</h2>
            
            <!-- Update the form to use Flask-WTF form handling -->
            <form method="POST" action="{{ url_for('main.signup') }}">
                <!-- CSRF Token for protection -->
                {{ form.hidden_tag() }}
                
                <label for="name">Full Name:</label>
                {{ form.name(class="form-control", id="name") }}  
                {% if form.name.errors %}
                    <ul class="errors">
                        {% for error in form.name.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                
                <label for="email">Email:</label>
                {{ form.email(class="form-control", id="email") }}
                {% if form.email.errors %}
                    <ul class="errors">
                        {% for error in form.email.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
    
                <label for="password">Password:</label>
                {{ form.password(class="form-control", id="password") }}
                {% if form.password.errors %}
                    <ul class="errors">
                        {% for error in form.password.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
    
                <label for="confirm-password">Confirm Password:</label>
                {{ form.confirm_password(class="form-control", id="confirm-password") }}
                {% if form.confirm_password.errors %}
                    <ul class="errors">
                        {% for error in form.confirm_password.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
    
                {{ form.submit(class="signup-button") }}
                

                <p>Already have an account? <a href="{{ url_for('main.login') }}">Login</a></p>
            </form>
        </div>
    </section>

    {% include 'footer.html' %}
    <!-- Help Button -->
<div style="
    position: fixed;
    top: 110px;
    right: 20px;
    z-index: 9999;
">
  <button id="helpBtn" style="
      background-color: var(--accent);
      color: rgb(155, 159, 154);
      border: none;
      padding: 10px 16px;
      border-radius: 25px;
     
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  ">Help</button>
</div>

<!-- Help Modal Overlay -->
<div id="helpModalOverlay" style="
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.4);
    backdrop-filter: blur(2px);
    z-index: 9998;
"></div>

<!-- Help Modal -->
<div id="helpModal" style="
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    padding: 2rem;
    max-width: 600px;
    max-height: 90vh;         /* Limit height */
    overflow-y: auto;  
    width: 90%;
    border-radius: 10px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.3);
    z-index: 9999;
    text-align: center;
">
    <h2 style="margin-bottom: 0.5rem;">Help: Sign Up Page</h2>
    <p style="font-size: 0.95rem; color: #555; margin-bottom: 1.5rem;">
        Use this page to create a new ClarityWave account and start your wellness journey.
    </p>
    <ul style="text-align: left; font-size: 0.95rem; color: #333; line-height: 1.6;">
        <li><strong>Full Name:</strong> Enter your complete name.</li>
        <li><strong>Email:</strong> Provide a valid email address for login and communication.</li>
        <li><strong>Password:</strong> Create a secure password (recommended: at least 8 characters).</li>
        <li><strong>Confirm Password:</strong> Re-enter the password to confirm it matches.</li>
        <li><strong>Sign Up button:</strong> Submits the form and creates your account if all inputs are valid.</li>
        <li>Already have an account? Click on <strong>“Login”</strong> to sign in.</li>
    </ul>
    <img src="{{ url_for('static', filename='images/signup.png') }}" 
         alt="Screenshot of Sign Up Page" 
         style="max-width: 100%; border: 1px solid #ccc; border-radius: 8px; margin-top: 1.5rem;" />
    <br /><br />
    <button onclick="closeHelpModal()" style="
        background-color: var(--accent);
        color: white;
        padding: 8px 20px;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        font-weight: bold;
    ">Close</button>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    function openHelpModal() {
      document.getElementById('helpModal').style.display = 'block';
      document.getElementById('helpModalOverlay').style.display = 'block';
    }

    function closeHelpModal() {
      document.getElementById('helpModal').style.display = 'none';
      document.getElementById('helpModalOverlay').style.display = 'none';
    }

    document.getElementById('helpBtn').addEventListener('click', openHelpModal);
    document.getElementById('helpModalOverlay').addEventListener('click', closeHelpModal);

    document.addEventListener('keydown', function (event) {
      if (event.key === 'F1') {
        event.preventDefault();
        openHelpModal();
      }
    });
  });
</script>

</body>
</html>
